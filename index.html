<!DOCTYPE html>
<html lang="nl">
<head>
<script src="favicon.js"></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RadioSMG</title>
<link rel="icon" href="favicon.ico">
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap');
:root{
  --bg-a:#0f1724;--bg-b:#071129;--muted:rgba(255,255,255,0.6);
  --accent1:#ff2e88;--accent2:#7b5cff;--accent3:#00d9ff;--neon:0 8px 40px rgba(124,58,237,0.18);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,var(--bg-a),var(--bg-b));
  color:#fff;display:flex;align-items:center;justify-content:center;
  height:100vh;padding:20px;overflow:hidden;
}
.app{
  width:100%;max-width:1150px;
  border-radius:22px;display:grid;
  grid-template-columns:340px 1fr;gap:20px;
  background:rgba(255,255,255,0.02);
  padding:20px;box-shadow:0 10px 40px rgba(0,0,0,0.5);
  transition:all .4s ease;
}
.sidebar{background:rgba(255,255,255,0.02);border-radius:14px;padding:14px;display:flex;flex-direction:column;gap:12px;transition:all .4s ease}
.header{grid-column:1/-1;display:flex;align-items:center;justify-content:space-between;}
.brand{display:flex;gap:14px;align-items:center}
.logo{width:60px;height:60px;display:flex;align-items:center;justify-content:center;}
.logo img{width:60px;height:60px;object-fit:contain;border-radius:12px}
.title h1{font-size:18px;font-weight:800}
.title p{font-size:12px;color:var(--muted);margin-top:4px}
.station-list{display:flex;flex-direction:column;gap:10px;transition:.4s ease}
.station{display:flex;gap:10px;align-items:center;padding:10px;border-radius:12px;cursor:pointer;transition:0.1s}
.station:hover{background:rgba(255,255,255,0.03);transform:translateY(-2px)}
.station.active{background:linear-gradient(90deg,rgba(123,92,255,0.12),rgba(0,217,255,0.05))}
.station img{width:60px;height:60px;border-radius:10px;object-fit:contain}
.station .meta{flex:1}
.station .meta .name{font-size:14px}
.station .meta .sub{font-size:12px;color:var(--muted);margin-top:3px}
.big-player{background:rgba(255,255,255,0.02);border-radius:14px;padding:24px;display:flex;flex-direction:column;gap:20px;box-shadow:0 0 30px rgba(0,0,0,0.4);transition:.3s ease}
.visual{height:240px;border-radius:14px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;background:#111}
.visual img{width:100%;height:100%;object-fit:cover;filter:brightness(0.6);position:absolute;inset:0}
.visual .overlay{position:relative;z-index:2;text-align:center}
.visual .overlay h2{font-size:20px;margin-bottom:4px}
.visual .overlay p{font-size:14px;color:var(--muted)}
.controls{display:flex;align-items:center;justify-content:space-between;gap:12px}
.btn{width:60px;height:60px;border:none;border-radius:50%;font-size:22px;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.15s;background:linear-gradient(135deg,var(--accent1),var(--accent2));box-shadow:var(--neon)}
.btn:hover{transform:scale(1.08)}
.btn.secondary{width:46px;height:46px;background:rgba(255,255,255,0.05);font-size:16px}
.progress{flex:1;display:flex;flex-direction:column;gap:6px}
.bar{height:8px;background:rgba(255,255,255,0.05);border-radius:10px;overflow:hidden}
.fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent2),var(--accent3));transition:width .1s}
.times{display:flex;justify-content:space-between;font-size:12px;color:var(--muted)}
.volume{display:flex;align-items:center;gap:6px}
input[type=range]{width:100px;appearance:none;height:6px;background:rgba(255,255,255,0.05);border-radius:6px}
input[type=range]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:linear-gradient(90deg,var(--accent2),var(--accent3))}
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="brand">
      <div class="logo"><img src="Logo's/mainLogo.png" alt="SMG"></div>
      <div class="title">
        <h1>Radio Hub</h1>
        <p>Gemaakt door Tristan Vansonhoven</p>
      </div>
    </div>
  </div>

  <aside class="sidebar" id="sidebar">
    <div class="station-list" id="stations"></div>
  </aside>

  <main class="big-player">
    <div class="visual">
      <img id="visualImg" src="">
      <div class="overlay">
        <h2 id="trackTitle">Kies een zender</h2>
        <p id="trackArtist"></p>
      </div>
    </div>
    <div class="controls">
      <button class="btn secondary" id="prevBtn">‚èÆ</button>
      <button class="btn" id="playBtn">‚ñ∂</button>
      <button class="btn secondary" id="nextBtn">‚è≠</button>
      <div class="progress">
        <div class="bar"><div class="fill" id="progress"></div></div>
        <div class="times"><span id="cur">0:00</span><span id="dur">--:--</span></div>
      </div>
      <div class="volume">
        <button class="btn secondary" id="mute">üîä</button>
        <input type="range" id="vol" min="0" max="1" step="0.01" value="0.9">
      </div>
    </div>
  </main>
</div>

<audio id="audio" autoplay></audio>

<script>
const stations=[
  {name:"RadioSMG",sub:"Eigen programma",img:"Logo's/mainLogo.png",local:true},
  {name:"MNM",sub:"Make life sing",img:"https://www.liveradio.ie/files/images/294273/mnm.jpg",src:"http://icecast.vrtcdn.be/mnm-high.mp3/"},
  {name:"Qmusic",sub:"Q sounds better with you",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGtk1NLryWUUXo-MuRTzwZ9rrR4q2JJ4IUGg&s",src:"https://icecast-qmusicnl-cdp.triple-it.nl/Qmusic_nl_live.mp3"},
  {name:"Radio 2",sub:"Elke dag telt voor 2",img:"https://play-lh.googleusercontent.com/d_M95Rm6yVAEJrrGgsRsE72P2OlUSxSuwrBfB-eFlj3yaUcQpmxH0auh2e6iOYEnpQ",src:"http://icecast.vrtcdn.be/ra2ant-high.mp3"}
];
const smgTracks=[
  {titel:"Inleiding",artiest:"Tristan Vansonhoven",src:"muziek/inleiding.MP3",img:"Logo's/tijdens.png"},
  {titel:"Latest",artiest:"Qlas & Blacka",src:"muziek/Latest.mp3",img:"https://i.ytimg.com/vi/UMOB8ocLctM/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAb34pKgpeEgcOf4lIE1E0pQda7Hw"},
  {titel:"Nieuws",artiest:"Laure Vannueten",src:"muziek/nieuws2.mp3",img:"Logo's/tijdens.png"},
  {titel:"Alle Kleuren",artiest:"K3",src:"muziek/K3.MP3",img:"https://static.wikia.nocookie.net/dewereldvank3/images/3/36/Alle_kleuren/revision/latest/scale-to-width-down/250?cb=20160115125319&path-prefix=nl"},
  {titel:"Weerbericht",artiest:"Chanoeda Raafenberg",src:"muziek/weer.mp3",img:"Logo's/tijdens.png"},
  {titel:"Unkown",artiest:"Unkown",src:"muziek/N..mp3",img:"https://static.wikia.nocookie.net/dewereldvank3/images/3/36/Alle_kleuren/revision/latest/scale-to-width-down/250?cb=20160115125319&path-prefix=nl"},
  {titel:"Toffe Weetjes",artiest:"Anisa Osman",src:"muziek/weet.mp3",img:"Logo's/tijdens.png"},
  {titel:"Folded",artiest:"Kehlani",src:"muziek/Kehlani-Folded.mp3",img:"https://i.audiomack.com/kehlani/1cf71aeaaf86011dad2c3394efcef76fb0d3cf6d741f29a5136cc692a5d7d7ff.jpeg?width=1440"},
  {titel:"Interview",artiest:"Chanoeda Raafenberg",src:"muziek/Interview (1).mp3",img:"Logo's/tijdens.png"},
  {titel:"Cece's Interlude",artiest:"Drake",src:"muziek/Cece's-Interlude.mp3",img:"https://i.ytimg.com/vi/ZzEOSfXCfAY/hq720.jpg?sqp=-oaymwE7CK4FEIIDSFryq4qpAy0IARUAAAAAGAElAADIQj0AgKJD8AEB-AH-CYAC0AWKAgwIABABGHIgNyg5MA8=&rs=AOn4CLAag9AOsmlBAQIZ94BwmzJjiUtqfw"},
  {titel:"Uitleiding",artiest:"Anisa Osman",src:"muziek/uitleiding.mp3",img:"Logo's/tijdens.png"}
];
const stationsEl=document.getElementById('stations');
const audio=document.getElementById('audio');
const playBtn=document.getElementById('playBtn');
const prevBtn=document.getElementById('prevBtn');
const nextBtn=document.getElementById('nextBtn');
const progress=document.getElementById('progress');
const cur=document.getElementById('cur');
const dur=document.getElementById('dur');
const mute=document.getElementById('mute');
const vol=document.getElementById('vol');
const visualImg=document.getElementById('visualImg');
const trackTitle=document.getElementById('trackTitle');
const trackArtist=document.getElementById('trackArtist');
let currentStation=0,index=0,metaInterval=null;

function renderStations(){
  stationsEl.innerHTML='';
  stations.forEach((s,i)=>{
    const el=document.createElement('div');
    el.className='station'+(currentStation===i?' active':'');
    el.innerHTML=`<img src="${s.img}"><div class="meta"><div class="name">${s.name}</div><div class="sub">${s.sub}</div></div>`;
    el.onclick=()=>selectStation(i);
    stationsEl.appendChild(el);
  });
}

function selectStation(i){
  currentStation=i;renderStations();
  const s=stations[i];
  clearInterval(metaInterval);
  if(s.local){index=0;loadSMG(index);}
  else{
    audio.src=s.src;
    audio.play();
    visualImg.src=s.img;
    trackTitle.textContent=s.name;
    trackArtist.textContent=s.sub;
    updateMetadata(s.name);
    metaInterval=setInterval(()=>updateMetadata(s.name),10000);
  }
  playBtn.textContent='‚è∏';
}

async function updateMetadata(name){
  try{
    if(name==="MNM"){
      const res=await fetch("https://services.vrt.be/playlist/onair?channel_code=MNM");
      const data=await res.json();
      trackTitle.textContent=data.onairs[0].title;
      trackArtist.textContent=data.onairs[0].artist;
    }
    else if(name==="Qmusic"){
      const res=await fetch("https://playerservices.streamtheworld.com/api/livestream?station=QmusicNL");
      const data=await res.json();
      trackTitle.textContent=data["data"][0]["TITLE"];
      trackArtist.textContent=data["data"][0]["ARTIST"];
    }
  }catch(e){
    console.log("Geen metadata",e);
  }
}

function loadSMG(i){
  const t=smgTracks[i];
  audio.src=t.src;
  trackTitle.textContent=t.titel;
  trackArtist.textContent=t.artiest;
  visualImg.src=t.img;
  audio.play();
  playBtn.textContent='‚è∏';
}
playBtn.onclick=()=>{if(audio.paused){audio.play();playBtn.textContent='‚è∏';}else{audio.pause();playBtn.textContent='‚ñ∂';}};
prevBtn.onclick=()=>{if(stations[currentStation].local){index=(index-1+smgTracks.length)%smgTracks.length;loadSMG(index);}};
nextBtn.onclick=()=>{if(stations[currentStation].local){index=(index+1)%smgTracks.length;loadSMG(index);}};
audio.addEventListener('ended',()=>{if(stations[currentStation].local){index=(index+1)%smgTracks.length;loadSMG(index);}});
audio.addEventListener('timeupdate',()=>{const p=(audio.currentTime/(audio.duration||1))*100;progress.style.width=p+'%';cur.textContent=fmt(audio.currentTime);dur.textContent=fmt(audio.duration);});
function fmt(s){if(!isFinite(s))return"--:--";let m=Math.floor(s/60);let sec=Math.floor(s%60).toString().padStart(2,'0');return`${m}:${sec}`;}
mute.onclick=()=>{audio.muted=!audio.muted;mute.textContent=audio.muted?'üîá':'üîä';};
vol.oninput=()=>{audio.volume=vol.value;};
renderStations();
selectStation(0);
</script>
</body>
</html>
